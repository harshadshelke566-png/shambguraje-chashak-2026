<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Shambguraje Chashak 2026 â€“ Player Registration</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  font-family: Arial, sans-serif;
  background:#f2f2f2;
  padding:20px;
}
.box{
  max-width:520px;
  margin:auto;
  background:#fff;
  padding:20px;
  border-radius:10px;
}
h1,h3{text-align:center}
input,select,button{
  width:100%;
  padding:10px;
  margin-top:10px;
}
button{
  background:#0a58ca;
  color:#fff;
  border:none;
  border-radius:6px;
  font-size:16px;
}
.note{
  font-size:13px;
  color:#444;
  margin-top:10px;
}
img{
  width:100%;
  margin-top:10px;
  border-radius:6px;
}
</style>
</head>

<body>

<div class="box">
<h1>SHAMBGURAJE CHASHAK 2026</h1>
<h3>Player Registration</h3>

<p><b>Entry Fee: â‚¹300</b></p>
<p>Scan the UPI QR below using Google Pay / PhonePe / any UPI app.</p>

<!-- ðŸ”´ QR IMAGE -->
<!-- QR image ko same folder me rakho: qr.png -->
<img src="qr.png" alt="UPI Payment QR Code">

<p class="note">
After successful payment, open payment details in your UPI app and copy the
<b>UPI Transaction ID</b> (12+ digit number). Then upload payment screenshot.
</p>

<input id="name" placeholder="Full Name" required>
<input id="age" type="number" placeholder="Age" required>
<input id="contact" type="tel" placeholder="Mobile Number" required>

<select id="talent" required>
  <option value="">Select Playing Role</option>
  <option>Batsman</option>
  <option>Bowler</option>
  <option>All-rounder</option>
</select>

<input id="utr" placeholder="UPI Transaction ID (UTR)" required>
<input id="screenshot" type="file" accept="image/*" required>

<button onclick="submitForm()">Submit Registration</button>

<p class="note">
âš  Duplicate / reused UPI Transaction ID will be rejected automatically.<br>
âš  Same payment cannot be used again.
</p>
</div>

<script>
function submitForm(){

  const name = document.getElementById("name").value.trim();
  const age = document.getElementById("age").value.trim();
  const contact = document.getElementById("contact").value.trim();
  const talent = document.getElementById("talent").value;
  const utr = document.getElementById("utr").value.trim();
  const file = document.getElementById("screenshot").files[0];

  if(!name || !age || !contact || !talent || !utr || !file){
    alert("Please fill all required fields.");
    return;
  }

  const reader = new FileReader();
  reader.onload = function(){

    fetch("https://script.google.com/macros/s/AKfycbzfYxAKCp1r-Y95pWNvuK57uo9idjfwJQUFHEmzuJSO3tCY8D2pt5SiybvJG1ImIn8/exec",{
      method:"POST",
      body: JSON.stringify({
        name: name,
        age: age,
        contact: contact,
        talent: talent,
        upi_utr: utr,
        screenshot_url: reader.result
      })
    })
    .then(res => res.json())
    .then(data => {
      if(data.status === "success"){
        alert("Registration successful.");
        location.reload();
      }else{
        alert(data.message || "Submission failed.");
      }
    })
    .catch(()=>{
      alert("Server error. Please try again.");
    });

  };

  reader.readAsDataURL(file);
}
</script>

</body>
</html>
